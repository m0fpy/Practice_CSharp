---
title: VSConfig теперь поддерживает расширения
featureId: Extensions-in-vsconfig
description: Установщик Visual Studio загрузит расширения, указанные в VSConfig-файле.
thumbnailImage: ../media/extensions-in-vsconfig-thumbnail.png

---

Начиная с Visual Studio 2022 версии 17.9 вы можете включить расширения [Visual Studio Marketplace](https://marketplace.visualstudio.com/), локальные или сетевые расширения, расширения настраиваемого URL-адреса или расширения [частной коллекции](https://learn.microsoft.com/visualstudio/extensibility/private-galleries) в [файл vsconfig](https://learn.microsoft.com/visualstudio/install/import-export-installation-configurations#extensions), а установщик Visual Studio загрузит их и сделает их доступными для использования. Эта функция отвечает одному из [запросов нашего Сообщества разработчиков Visual Studio, получивших наибольшее число голосов: "Файл .vsconfig должен автоматически запрашивать установку расширений"](https://developercommunity.visualstudio.com/t/A-vsconfig-file-should-automatically-pr/518364).

Все расширения, установленные установщиком VS, будут установлены "для всего компьютера", то есть они доступны для всех пользователей. Поскольку эти расширения устанавливаются на всем компьютере, тот, кто их устанавливает, должен иметь права администратора напрямую или им должно быть предоставлено управление через политику [AllowStandardUserControl](https://aka.ms/vs/setup/policies). Обратите внимание, что большинство из расширений, установленных с помощью существующего диспетчера расширений, могут быть установлены для каждого пользователя, а не для всего компьютера. Поэтому пользователю, который их установил, не требуются права администратора.

Есть три основных способа импорта файла *.vsconfig в Visual Studio:

### 1. Использование пользовательского интерфейса установщика VS для добавления расширений к установке

Вы можете запустить установщик VS и импортировать [файл конфигурации установки (*.vsconfig)](https://learn.microsoft.com/visualstudio/install/import-export-installation-configurations) в существующую установку, указанную на вкладке "Установлено", или использовать его для предварительной настройки новой установки на вкладке "Доступно". В любом случае вам необходимо выбрать опцию "Дополнительно/Импортировать конфигурацию" на карточке продукта установщика, чтобы импортировать расширения в нужную установку.   

![Изображение установщика Visual Studio, показывающее "Дополнительно", а затем "Импортировать конфигурацию"](../media/installer-import-config-into-available-tab.png)

### 2. Программное добавление расширений к установке Visual Studio с помощью параметра --config.

Чтобы выполнить **новую установку** Visual Studio и инициализировать ее с помощью файла конфигурации, содержащего расширения, выполните следующую команду с помощью начального загрузчика:

`vs_enterprise.exe --config "C:\my.vsconfig" --installPath "C:\VS"`

Чтобы **изменить** существующую установку и добавить расширения путем передачи файла *.vsconfig, содержащего расширения, вы можете использовать команду изменения, которая применяет уже установленный на компьютере установщик VS:

`"C:\Program Files (x86)\Microsoft Visual Studio\Installer\setup.exe" modify --installPath "C:\VS" --config "C:\my.vsconfig"`

[Дополнительные сведения о параметрах командной строки установщика VS](https://learn.microsoft.com/visualstudio/install/use-command-line-parameters-to-install-visual-studio) см. здесь.

### 3. Открытие решение или репозиторий, содержащего файл vsconfig

Когда пользователь открывает решение или репозиторий, Visual Studio анализирует включенный файл *.vsconfig и автоматически определяет, присутствуют ли (или отсутствуют) указанные компоненты, а *теперь и расширения Marketplace*. Если они отсутствуют, пользователь получит запрос на их установку. По причинам, связанным с производительностью, локальные или сетевые расширения пока не являются частью радара обнаружения отсутствия. В веб-документах дополнительно описывается эта возможность [автоматического обнаружения и установки недостающих компонентов](https://learn.microsoft.com/visualstudio/install/import-export-installation-configurations#automatically-install-missing-components). 

### Предупреждения

На данный момент возможность включать расширения в файл *.vsconfig и устанавливать их с помощью установщика VS работает только для Visual Studio 2022 и более поздних версий при условии, что у вас есть установщик Visual Studio версии 17.9 или более поздней. Кроме того, установщик Visual Studio пока не поддерживает возможность _экспорта_ расширений в файл конфигурации. Обновления расширений будут осуществляться с помощью [существующего метода обновления расширений, описанного здесь](https://learn.microsoft.com/visualstudio/ide/finding-and-using-visual-studio-extensions?#automatic-extension-updates).  

Некоторые собственные расширения, такие как Copilot или Liveshare, напрямую включены в установщик Visual Studio и ведут себя как обычные компоненты. 

Попробуйте эту функцию и [сообщите нам, что вы думаете](https://developercommunity.visualstudio.com)!

